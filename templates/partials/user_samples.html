{% for item in samples %}
{% set sample = item.sample %}
{% set upvote_count = item.upvote_count %}
{% set download_count = item.download_count %}
{% include "partials/single_sample_card.html" %}
{% endfor %}

{% if not samples %}
<div style="text-align: center; padding: 4rem 2rem; color: var(--text-secondary); grid-column: 1 / -1;">
    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="margin: 0 auto 1rem; opacity: 0.5;">
        <path d="M9 18V5l12-2v13"/>
        <circle cx="6" cy="18" r="3"/>
        <circle cx="18" cy="16" r="3"/>
    </svg>
    <p style="font-size: 1.2rem; margin-bottom: 0.5rem;">No samples uploaded yet</p>
    <p style="color: var(--text-muted);">Upload your first sample to share with the community!</p>
</div>
{% endif %}

<script>
    // Update stats
    document.getElementById('total-samples').textContent = '{{ samples|length }}';

    let totalUpvotes = 0;
    let totalDownloads = 0;
    {% for item in samples %}
    totalUpvotes += {{ item.upvote_count }};
    totalDownloads += {{ item.download_count }};
    {% endfor %}

    document.getElementById('total-upvotes').textContent = totalUpvotes;
    document.getElementById('total-downloads').textContent = totalDownloads;
</script>
