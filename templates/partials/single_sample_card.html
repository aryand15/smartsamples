<div class="sample-card" id="sample-card-{{ sample.id }}">
    <div class="sample-header">
        <div>
            <h3 class="sample-title">{{ sample.title }}</h3>
        </div>
    </div>

    {% if sample.instrument or sample.mood %}
    <div class="sample-meta">
        {% if sample.instrument %}
        <span class="meta-tag">{{ sample.instrument }}</span>
        {% endif %}
        {% if sample.mood %}
        <span class="meta-tag">{{ sample.mood }}</span>
        {% endif %}
    </div>
    {% endif %}

    <audio controls class="sample-audio" preload="metadata">
        <source src="{{ sample.file_url }}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="sample-actions">
        <div style="flex: 1; text-align: center; padding: 0.7rem; background: var(--bg-tertiary); border-radius: 10px; color: var(--text-secondary);">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" style="display: inline; vertical-align: middle; margin-right: 0.25rem;">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
            {{ upvote_count }}
        </div>

        <div style="flex: 1; text-align: center; padding: 0.7rem; background: var(--bg-tertiary); border-radius: 10px; color: var(--text-secondary);">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline; vertical-align: middle; margin-right: 0.25rem;">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
            {{ download_count }}
        </div>

        <button
            class="btn-icon btn-edit"
            hx-get="/sample/{{ sample.id }}/edit-title-modal"
            hx-target="#modal-container"
            hx-swap="innerHTML"
            title="Edit title"
        >
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
            </svg>
        </button>

        <button
            class="btn-icon"
            style="background: var(--accent-pink); color: white;"
            hx-delete="/sample/{{ sample.id }}"
            hx-confirm="Are you sure you want to delete this sample?"
            hx-target="closest .sample-card"
            hx-swap="outerHTML swap:1s"
            title="Delete sample"
        >
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="3 6 5 6 21 6"/>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                <line x1="10" y1="11" x2="10" y2="17"/>
                <line x1="14" y1="11" x2="14" y2="17"/>
            </svg>
        </button>
    </div>
</div>
